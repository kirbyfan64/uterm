version: 2
jobs:
  build:
    docker:
      - image: base/devel
    steps:
      - run:
          name: Install dependencies
          command: >
            sudo pacman -S confuse curl fontconfig freetype2 git libxkbcommon mesa --noconfirm --needed
            # https://gist.github.com/Tadly/0e65d30f279a34c33e9b: install Pacaur
            curl -Ls https://goo.gl/cF2iJy | bash
            pacaur -S glfw-x11-git --noconfirm --noconfirm --noedit --needed
      - checkout:
          post:
            - git submodule sync
            - git submodule update --init
      - run:
          name: Install fbuild
          command: >
            git clone https://github.com/felix-lang/fbuild.git
            cd fbuild
            python setup.py install
      - run:
          name: Build uterm
          command: echo Hello, world.
      - run:
          name: Print the Current Time
          command: date
